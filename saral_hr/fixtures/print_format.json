[
 {
  "absolute_value": 0,
  "align_labels_right": 0,
  "css": "\r\n* {\r\n    margin: 0;\r\n    padding: 0;\r\n    box-sizing: border-box;\r\n}\r\n\r\nbody {\r\n    margin: 0 !important;\r\n    padding: 0 !important;\r\n}\r\n\r\n.print-format-gutter,\r\n.print-format.print-format-preview,\r\n.page-container,\r\n.page-content {\r\n    padding: 0 !important;\r\n    margin: 0 !important;\r\n}\r\n\r\n.print-format {\r\n    font-family: Arial, Helvetica, sans-serif;\r\n    color: #000;\r\n    width: 100% !important;\r\n    margin: 0 !important;\r\n    padding: 15mm !important;\r\n    background: #fff;\r\n    line-height: 1.3;\r\n}\r\n\r\n.header-section {\r\n    text-align: center;\r\n    margin-bottom: 20px;\r\n}\r\n\r\n.company-name {\r\n    font-size: 22px;\r\n    font-weight: 700;\r\n    letter-spacing: 1.2px;\r\n    margin-bottom: 10px;\r\n}\r\n\r\n.document-title {\r\n    font-size: 16px;\r\n    font-weight: 600;\r\n    color: #333;\r\n}\r\n\r\n.period {\r\n    font-size: 13px;\r\n    color: #666;\r\n    margin-top: 5px;\r\n}\r\n\r\n.table-section {\r\n    margin-bottom: 40px;\r\n}\r\n\r\n.variable-pay-table {\r\n    width: 100%;\r\n    border-collapse: collapse;\r\n    font-size: 13px;\r\n    border: 1px solid #000; /* Outer table border */\r\n}\r\n\r\n.variable-pay-table th,\r\n.variable-pay-table td {\r\n    border: 1px solid #000;  /* Borders for all rows and columns */\r\n    padding: 12px 15px;\r\n}\r\n\r\n.variable-pay-table thead th {\r\n    background: #f5f5f5;\r\n    font-weight: 700;\r\n    font-size: 12px;\r\n}\r\n\r\n.variable-pay-table tfoot td {\r\n    background: #f5f5f5;\r\n    font-weight: 700;\r\n}\r\n\r\n.bold {\r\n    font-weight: 700;\r\n}\r\n\r\n.text-left {\r\n    text-align: left;\r\n}\r\n\r\n.text-center {\r\n    text-align: center;\r\n}\r\n\r\n.text-right {\r\n    text-align: right;\r\n}\r\n\r\n.signature-section {\r\n    display: flex;\r\n    justify-content: center;\r\n    margin-top: 50px;\r\n    margin-bottom: 25px;\r\n}\r\n\r\n.signature-box {\r\n    width: 35%;\r\n    text-align: center;\r\n}\r\n\r\n.signature-line {\r\n    border-top: 1.5px solid #000;\r\n    margin-bottom: 8px;\r\n}\r\n\r\n.signature-label {\r\n    font-size: 11px;\r\n    color: #666;\r\n}\r\n\r\n.print-footer {\r\n    text-align: center;\r\n    margin-top: 30px;\r\n    padding-top: 12px;\r\n    border-top: 1px solid #ccc;\r\n}\r\n\r\n.print-footer p {\r\n    font-size: 10px;\r\n    color: #999;\r\n}\r\n\r\n@media print {\r\n    @page {\r\n        size: A4;\r\n        margin: 8mm;\r\n    }\r\n\r\n    .print-format {\r\n        padding: 8mm !important;\r\n    }\r\n\r\n    .variable-pay-table thead th,\r\n    .variable-pay-table tfoot td {\r\n        background: #f5f5f5 !important;\r\n        -webkit-print-color-adjust: exact;\r\n        print-color-adjust: exact;\r\n    }\r\n}\r\n\r\n@media screen and (max-width: 768px) {\r\n    .print-format {\r\n        padding: 10mm !important;\r\n    }\r\n\r\n    .company-name {\r\n        font-size: 18px;\r\n    }\r\n\r\n    .document-title {\r\n        font-size: 14px;\r\n    }\r\n\r\n    .signature-box {\r\n        width: 70%;\r\n    }\r\n}\r\n",
  "custom_format": 1,
  "default_print_language": "en",
  "disabled": 0,
  "doc_type": "Variable Pay Assignment",
  "docstatus": 0,
  "doctype": "Print Format",
  "font": null,
  "font_size": 14,
  "format_data": null,
  "html": "<div class=\"print-format\">\r\n    <div class=\"header-section\">\r\n        <h1 class=\"company-name\">BAJAJ STEEL INDUSTRIES PRIVATE LIMITED</h1>\r\n        <h2 class=\"document-title\">Sales Target and Achievement</h2>\r\n        <p class=\"period\">For the Month of {{ doc.month }} {{ doc.year }}</p>\r\n    </div>\r\n\r\n    <div class=\"table-section\">\r\n        <table class=\"variable-pay-table\">\r\n            <thead>\r\n                <tr>\r\n                    <th class=\"text-left\">DIVISION</th>\r\n                    <th class=\"text-center\">PERCENTAGE (%)</th>\r\n                    <th class=\"text-right\">TARGET</th>\r\n                    <th class=\"text-right\">ACHIEVEMENT</th>\r\n                </tr>\r\n            </thead>\r\n            <tbody>\r\n                {% set ns = namespace(total_target=0, total_achievement=0) %}\r\n                {% for row in doc.variable_pay %}\r\n                <tr>\r\n                    <td class=\"text-left\">{{ row.division }}</td>\r\n                    <td class=\"text-center\">{{ \"%.2f\"|format(row.percentage or 0) }}%</td>\r\n                    <td class=\"text-right\">{{ \"{:,.2f}\".format(row.target or 0) }}</td>\r\n                    <td class=\"text-right\">{{ \"{:,.2f}\".format(row.achievement or 0) }}</td>\r\n                </tr>\r\n                {% set ns.total_target = ns.total_target + (row.target or 0) %}\r\n                {% set ns.total_achievement = ns.total_achievement + (row.achievement or 0) %}\r\n                {% endfor %}\r\n            </tbody>\r\n            <tfoot>\r\n                <tr class=\"total-row\">\r\n                    <td class=\"text-left bold\">TOTAL</td>\r\n                    <td class=\"text-center\">-</td>\r\n                    <td class=\"text-right bold\">{{ \"{:,.2f}\".format(ns.total_target) }}</td>\r\n                    <td class=\"text-right bold\">{{ \"{:,.2f}\".format(ns.total_achievement) }}</td>\r\n                </tr>\r\n            </tfoot>\r\n        </table>\r\n    </div>\r\n\r\n    <div class=\"signature-section single\">\r\n        <div class=\"signature-box\">\r\n            <div class=\"signature-line\"></div>\r\n            <p class=\"signature-label\">Verified By</p>\r\n        </div>\r\n    </div>\r\n\r\n    <div class=\"print-footer\">\r\n        <p>Printed on: {{ frappe.utils.now_datetime().strftime(\"%d/%m/%Y at %H:%M\") }}</p>\r\n    </div>\r\n</div>\r\n\r\n",
  "line_breaks": 0,
  "margin_bottom": 15.0,
  "margin_left": 15.0,
  "margin_right": 15.0,
  "margin_top": 15.0,
  "modified": "2026-02-12 12:36:58.937725",
  "module": "Saral Hr",
  "name": "Variable Pay",
  "page_number": "Hide",
  "print_format_builder": 0,
  "print_format_builder_beta": 0,
  "print_format_type": "Jinja",
  "raw_commands": null,
  "raw_printing": 0,
  "show_section_headings": 0,
  "standard": "Yes"
 },
 {
  "absolute_value": 0,
  "align_labels_right": 0,
  "css": "/* ========================================\r\n   PAYSLIP CONTAINER\r\n   ======================================== */\r\n.payslip-container {\r\n    border: 2px solid #000;\r\n    padding: 15px;\r\n    font-family: Arial, sans-serif;\r\n    font-size: 11px;\r\n    width: 100%;\r\n    box-sizing: border-box;\r\n}\r\n\r\n/* ========================================\r\n   HEADER SECTION\r\n   ======================================== */\r\n.print-heading {\r\n    text-align: center;\r\n    margin-bottom: 10px;\r\n    border-bottom: 2px solid #000;\r\n    padding-bottom: 8px;\r\n}\r\n\r\n.company-details h2 {\r\n    margin: 0 0 4px 0;\r\n    font-size: 16px;\r\n    font-weight: bold;\r\n}\r\n\r\n.company-details p {\r\n    margin: 0;\r\n    font-size: 11px;\r\n}\r\n\r\n/* ========================================\r\n   PAYSLIP TITLE\r\n   ======================================== */\r\n.payslip-title {\r\n    background-color: #f2f2f2;\r\n    text-align: center;\r\n    padding: 8px;\r\n    margin-bottom: 10px;\r\n    border: 1px solid #ccc;\r\n}\r\n\r\n.payslip-title h3 {\r\n    font-size: 14px;\r\n    margin: 0;\r\n    font-weight: bold;\r\n}\r\n\r\n/* ========================================\r\n   EMPLOYEE SUMMARY TABLE\r\n   ======================================== */\r\n.employee-summary {\r\n    margin-bottom: 10px;\r\n}\r\n\r\n.summary-table {\r\n    width: 100%;\r\n    border-collapse: collapse;\r\n    font-size: 11px;\r\n    table-layout: fixed;\r\n}\r\n\r\n.summary-table .summary-title {\r\n    background-color: #e8e8e8;\r\n    font-weight: bold;\r\n    font-size: 12px;\r\n    padding: 6px 8px;\r\n    text-align: left;\r\n    border: 1px solid #ccc;\r\n}\r\n\r\n.summary-table tbody tr {\r\n    line-height: 1.3;\r\n}\r\n\r\n.summary-table .label-cell {\r\n    font-weight: 600;\r\n    padding: 5px 8px;\r\n    background-color: #f5f5f5;\r\n    border: 1px solid #ddd;\r\n    width: 16%;\r\n    color: #333;\r\n    white-space: nowrap;\r\n    overflow: hidden;\r\n}\r\n\r\n.summary-table .value-cell {\r\n    padding: 5px 8px;\r\n    border: 1px solid #ddd;\r\n    width: 17%;\r\n    color: #555;\r\n    white-space: nowrap;\r\n    overflow: hidden;\r\n    text-overflow: ellipsis;\r\n}\r\n\r\n/* ========================================\r\n   EARNINGS / COMPUTED EARNINGS / DEDUCTIONS\r\n   6-column table — pixel-perfect match to bulk print\r\n   ======================================== */\r\n.earnings-table {\r\n    width: 100%;\r\n    border-collapse: collapse;\r\n    margin-bottom: 10px;\r\n    table-layout: fixed;\r\n    font-size: 11px;\r\n}\r\n\r\n/* Top group headers */\r\n.earnings-table .col-header {\r\n    background-color: #f8f8f8;\r\n    padding: 8px;\r\n    border: 2px solid #000;\r\n    font-size: 12px;\r\n    font-weight: bold;\r\n    text-align: center;\r\n}\r\n\r\n/* Sub-headers: Component / Amount */\r\n.earnings-table .sub-header {\r\n    background-color: #f8f8f8;\r\n    padding: 5px 8px;\r\n    border: 1px solid #ccc;\r\n    font-size: 10px;\r\n    font-weight: normal;\r\n}\r\n\r\n.earnings-table .sub-left  { text-align: left; }\r\n.earnings-table .sub-right { text-align: right; }\r\n\r\n/* Data cells */\r\n.earnings-table .data-label {\r\n    padding: 6px 8px;\r\n    border: 1px solid #ddd;\r\n    font-size: 11px;\r\n    color: #333;\r\n    word-wrap: break-word;\r\n}\r\n\r\n.earnings-table .data-value {\r\n    padding: 6px 8px;\r\n    border: 1px solid #ddd;\r\n    font-size: 11px;\r\n    text-align: right;\r\n    color: #000;\r\n    white-space: nowrap;\r\n}\r\n\r\n/* Total row */\r\n.earnings-table tfoot .total-row {\r\n    background-color: #e8f4f8;\r\n    font-weight: bold;\r\n}\r\n\r\n.earnings-table .total-label-cell {\r\n    padding: 8px;\r\n    border: 1px solid #000;\r\n    font-size: 12px;\r\n    font-weight: bold;\r\n    color: #333;\r\n}\r\n\r\n.earnings-table .total-value-cell {\r\n    padding: 8px;\r\n    border: 1px solid #000;\r\n    font-size: 12px;\r\n    font-weight: bold;\r\n    text-align: right;\r\n    color: #000;\r\n    white-space: nowrap;\r\n}\r\n\r\n/* ========================================\r\n   NET PAYABLE SECTION\r\n   ======================================== */\r\n.net-payable-section {\r\n    background-color: #f9f9f9;\r\n    padding: 10px;\r\n    text-align: center;\r\n    border: 2px solid #000;\r\n    margin-top: 0;\r\n}\r\n\r\n.net-amount {\r\n    font-weight: bold;\r\n    font-size: 14px;\r\n    margin: 0 0 3px 0;\r\n    color: #000;\r\n}\r\n\r\n.net-words {\r\n    font-size: 11px;\r\n    margin: 0;\r\n    color: #333;\r\n}\r\n\r\n/* ========================================\r\n   LOADER OVERLAY\r\n   ======================================== */\r\n#payslip-loader {\r\n    display: none;\r\n    position: fixed;\r\n    inset: 0;\r\n    background: rgba(255, 255, 255, 0.88);\r\n    z-index: 99999;\r\n    flex-direction: column;\r\n    align-items: center;\r\n    justify-content: center;\r\n    font-family: Arial, sans-serif;\r\n}\r\n\r\n#payslip-loader.active { display: flex; }\r\n\r\n.pl-spinner {\r\n    width: 52px;\r\n    height: 52px;\r\n    border: 5px solid #e0e0e0;\r\n    border-top-color: #2563eb;\r\n    border-radius: 50%;\r\n    animation: pl-spin 0.75s linear infinite;\r\n    margin-bottom: 16px;\r\n}\r\n\r\n.pl-text {\r\n    font-size: 14px;\r\n    font-weight: 600;\r\n    color: #374151;\r\n    letter-spacing: 0.02em;\r\n}\r\n\r\n.pl-sub {\r\n    font-size: 11px;\r\n    color: #9ca3af;\r\n    margin-top: 4px;\r\n}\r\n\r\n@keyframes pl-spin { to { transform: rotate(360deg); } }\r\n\r\n/* ========================================\r\n   PRINT — remove Frappe's default page whitespace\r\n   ======================================== */\r\n@media print {\r\n    body, html {\r\n        margin: 0 !important;\r\n        padding: 0 !important;\r\n    }\r\n    .payslip-container {\r\n        border: 2px solid #000;\r\n        padding: 15px;\r\n        page-break-after: avoid;\r\n    }\r\n    #payslip-loader { display: none !important; }\r\n}",
  "custom_format": 1,
  "default_print_language": "en",
  "disabled": 0,
  "doc_type": "Salary Slip",
  "docstatus": 0,
  "doctype": "Print Format",
  "font": null,
  "font_size": 14,
  "format_data": null,
  "html": "{# ============================================================\r\n   FORCE FRESH DOC FETCH — prevents stale/cached employee data\r\n   when switching between salary slips without full page reload\r\n   ============================================================ #}\r\n{% set doc = frappe.get_doc(doc.doctype, doc.name) %}\r\n\r\n{% set company_address = frappe.db.get_value(\r\n    \"Company\",\r\n    doc.company,\r\n    \"address\"\r\n) if doc.company else \"\" %}\r\n\r\n{% set company_link_details = frappe.db.get_value(\r\n    \"Company Link\",\r\n    doc.employee,\r\n    [\"employee\", \"date_of_joining\", \"designation\", \"department\", \"branch\", \"category\", \"division\"],\r\n    as_dict=1\r\n) if doc.employee else {} %}\r\n\r\n{% set doj = company_link_details.date_of_joining if company_link_details else None %}\r\n{% set employee_link = company_link_details.employee if company_link_details else None %}\r\n{% set designation = company_link_details.designation if company_link_details else None %}\r\n{% set department = company_link_details.department if company_link_details else None %}\r\n{% set branch = company_link_details.branch if company_link_details else None %}\r\n{% set category = company_link_details.category if company_link_details else None %}\r\n{% set division = company_link_details.division if company_link_details else None %}\r\n\r\n{% set employee_details = frappe.db.get_value(\r\n    \"Employee\",\r\n    employee_link,\r\n    [\"employee_pf_account\", \"esic_number\", \"lin_number\", \"bank_name\", \"account_number\", \"ifsc_code\", \"gender\"],\r\n    as_dict=1\r\n) if employee_link else {} %}\r\n\r\n{% set present_days = (doc.total_working_days or 0) - (doc.absent_days or 0) %}\r\n\r\n{% set salary_assignment = frappe.db.sql(\"\"\"\r\n    SELECT name, from_date, to_date\r\n    FROM `tabSalary Structure Assignment`\r\n    WHERE employee = %s\r\n      AND docstatus = 1\r\n      AND from_date <= %s\r\n      AND (to_date IS NULL OR to_date >= %s)\r\n    ORDER BY from_date DESC\r\n    LIMIT 1\r\n\"\"\", (doc.employee, doc.end_date, doc.start_date), as_dict=1) %}\r\n\r\n{% set assignment_name = salary_assignment[0].name if salary_assignment else None %}\r\n\r\n{% set assignment_earnings = [] %}\r\n{% if assignment_name %}\r\n    {% set assignment_earnings = frappe.db.sql(\"\"\"\r\n        SELECT salary_component, amount\r\n        FROM `tabSalary Details`\r\n        WHERE parent = %s\r\n          AND parenttype = 'Salary Structure Assignment'\r\n          AND parentfield = 'earnings'\r\n          AND amount > 0\r\n        ORDER BY idx ASC\r\n    \"\"\", (assignment_name,), as_dict=1) %}\r\n{% endif %}\r\n\r\n{% set assignment_earnings_total = namespace(value=0) %}\r\n{% for ae in assignment_earnings %}\r\n    {% set assignment_earnings_total.value = assignment_earnings_total.value + (ae.amount or 0) %}\r\n{% endfor %}\r\n\r\n{# Build computed earnings list #}\r\n{% set computed_items = [] %}\r\n{% set computed_earnings_total = namespace(value=0) %}\r\n{% for e in doc.earnings %}\r\n    {% if e.amount and e.amount > 0 %}\r\n        {% set _ = computed_items.append(e) %}\r\n        {% set computed_earnings_total.value = computed_earnings_total.value + e.amount %}\r\n    {% endif %}\r\n{% endfor %}\r\n\r\n{# Build deductions list — exclude employer contributions only (matches bulk print logic) #}\r\n{% set deduction_items = [] %}\r\n{% set deductions_total = namespace(value=0) %}\r\n{% for d in doc.deductions %}\r\n    {% set is_employer = frappe.db.get_value(\"Salary Component\", d.salary_component, \"employer_contribution\") %}\r\n    {% if d.amount and d.amount > 0 and not is_employer %}\r\n        {% set _ = deduction_items.append(d) %}\r\n        {% set deductions_total.value = deductions_total.value + d.amount %}\r\n    {% endif %}\r\n{% endfor %}\r\n\r\n{# Find max rows across all 3 columns for the table #}\r\n{% set max_rows = [assignment_earnings|length, computed_items|length, deduction_items|length]|max %}\r\n\r\n<div class=\"payslip-container\">\r\n\r\n    <!-- Header -->\r\n    <div class=\"print-heading\">\r\n        <div class=\"company-details\">\r\n            <h2><strong>{{ doc.company }}</strong></h2>\r\n            <p>\r\n                {% if company_address %}\r\n                    <strong>Address:</strong> {{ company_address }}\r\n                {% else %}\r\n                    <strong>Head Office Address:</strong>\r\n                    Bajaj Steel Industries Limited, C-108, M.I.D.C. Industrial Area,\r\n                    Hingna Road, Nagpur, Maharashtra - 440016\r\n                {% endif %}\r\n            </p>\r\n        </div>\r\n    </div>\r\n\r\n    <!-- Payslip Title -->\r\n    <div class=\"payslip-title\">\r\n        <h3>Payslip for the Month of {{ frappe.utils.formatdate(doc.start_date, \"MMMM yyyy\") }}</h3>\r\n    </div>\r\n\r\n    <!-- Employee Pay Summary -->\r\n    <div class=\"employee-summary\">\r\n        <table class=\"summary-table\">\r\n            <colgroup>\r\n                <col style=\"width:16%\">\r\n                <col style=\"width:17%\">\r\n                <col style=\"width:16%\">\r\n                <col style=\"width:17%\">\r\n                <col style=\"width:16%\">\r\n                <col style=\"width:18%\">\r\n            </colgroup>\r\n            <thead>\r\n                <tr>\r\n                    <th colspan=\"6\" class=\"summary-title\">Employee Pay Summary</th>\r\n                </tr>\r\n            </thead>\r\n            <tbody>\r\n                <tr>\r\n                    <td class=\"label-cell\">Employee Name</td>\r\n                    <td class=\"value-cell\">{{ doc.employee_name }}</td>\r\n                    <td class=\"label-cell\">Gender</td>\r\n                    <td class=\"value-cell\">{{ employee_details.gender or \"-\" }}</td>\r\n                    <td class=\"label-cell\">Date of Joining</td>\r\n                    <td class=\"value-cell\">{{ frappe.utils.formatdate(doj, \"dd-MM-yyyy\") if doj else \"-\" }}</td>\r\n                </tr>\r\n                <tr>\r\n                    <td class=\"label-cell\">Designation</td>\r\n                    <td class=\"value-cell\">{{ designation or \"-\" }}</td>\r\n                    <td class=\"label-cell\">Department</td>\r\n                    <td class=\"value-cell\">{{ department or \"-\" }}</td>\r\n                    <td class=\"label-cell\">Branch</td>\r\n                    <td class=\"value-cell\">{{ branch or \"-\" }}</td>\r\n                </tr>\r\n                <tr>\r\n                    <td class=\"label-cell\">Category</td>\r\n                    <td class=\"value-cell\">{{ category or \"-\" }}</td>\r\n                    <td class=\"label-cell\">Division</td>\r\n                    <td class=\"value-cell\">{{ division or \"-\" }}</td>\r\n                    <td class=\"label-cell\">Payment Days</td>\r\n                    <td class=\"value-cell\">{{ doc.payment_days or 0 }}</td>\r\n                </tr>\r\n                <tr>\r\n                    <td class=\"label-cell\">PF Account No</td>\r\n                    <td class=\"value-cell\">{{ employee_details.employee_pf_account or \"-\" }}</td>\r\n                    <td class=\"label-cell\">ESI Number</td>\r\n                    <td class=\"value-cell\">{{ employee_details.esic_number or \"-\" }}</td>\r\n                    <td class=\"label-cell\">LIN Number</td>\r\n                    <td class=\"value-cell\">{{ employee_details.lin_number or \"-\" }}</td>\r\n                </tr>\r\n                <tr>\r\n                    <td class=\"label-cell\">Bank Name</td>\r\n                    <td class=\"value-cell\">{{ employee_details.bank_name or \"-\" }}</td>\r\n                    <td class=\"label-cell\">Account Number</td>\r\n                    <td class=\"value-cell\">{{ employee_details.account_number or \"-\" }}</td>\r\n                    <td class=\"label-cell\">IFSC Code</td>\r\n                    <td class=\"value-cell\">{{ employee_details.ifsc_code or \"-\" }}</td>\r\n                </tr>\r\n                <tr>\r\n                    <td class=\"label-cell\">Working Days</td>\r\n                    <td class=\"value-cell\">{{ doc.total_working_days or 0 }}</td>\r\n                    <td class=\"label-cell\">Present Days</td>\r\n                    <td class=\"value-cell\">{{ present_days }}</td>\r\n                    <td class=\"label-cell\">Absent Days</td>\r\n                    <td class=\"value-cell\">{{ doc.absent_days or 0 }}</td>\r\n                </tr>\r\n                <tr>\r\n                    <td class=\"label-cell\">Holidays</td>\r\n                    <td class=\"value-cell\">{{ doc.total_holidays or 0 }}</td>\r\n                    <td class=\"label-cell\">Half Days</td>\r\n                    <td class=\"value-cell\">{{ doc.total_half_days or 0 }}</td>\r\n                    <td class=\"label-cell\">LWP</td>\r\n                    <td class=\"value-cell\">{{ doc.total_lwp or 0 }}</td>\r\n                </tr>\r\n            </tbody>\r\n        </table>\r\n    </div>\r\n\r\n    <!-- Earnings / Computed Earnings / Deductions — 6-column table matching bulk print -->\r\n    <table class=\"earnings-table\">\r\n        <colgroup>\r\n            <col style=\"width:16.66%\">\r\n            <col style=\"width:16.66%\">\r\n            <col style=\"width:16.66%\">\r\n            <col style=\"width:16.66%\">\r\n            <col style=\"width:16.66%\">\r\n            <col style=\"width:16.70%\">\r\n        </colgroup>\r\n        <thead>\r\n            <tr>\r\n                <th colspan=\"2\" class=\"col-header\">Earnings</th>\r\n                <th colspan=\"2\" class=\"col-header\">Computed Earnings</th>\r\n                <th colspan=\"2\" class=\"col-header\">Deductions</th>\r\n            </tr>\r\n            <tr>\r\n                <th class=\"sub-header sub-left\">Component</th>\r\n                <th class=\"sub-header sub-right\">Amount</th>\r\n                <th class=\"sub-header sub-left\">Component</th>\r\n                <th class=\"sub-header sub-right\">Amount</th>\r\n                <th class=\"sub-header sub-left\">Component</th>\r\n                <th class=\"sub-header sub-right\">Amount</th>\r\n            </tr>\r\n        </thead>\r\n        <tbody>\r\n            {% for i in range(max_rows) %}\r\n            <tr>\r\n                {# --- Earnings column --- #}\r\n                {% if i < assignment_earnings|length %}\r\n                    {% set ae = assignment_earnings[i] %}\r\n                    <td class=\"data-label\">{{ ae.salary_component }}</td>\r\n                    <td class=\"data-value\">{{ frappe.utils.fmt_money(ae.amount, currency=doc.currency) }}</td>\r\n                {% else %}\r\n                    <td class=\"data-label\">&nbsp;</td>\r\n                    <td class=\"data-value\">&nbsp;</td>\r\n                {% endif %}\r\n\r\n                {# --- Computed Earnings column --- #}\r\n                {% if i < computed_items|length %}\r\n                    {% set e = computed_items[i] %}\r\n                    <td class=\"data-label\">{{ e.salary_component }}</td>\r\n                    <td class=\"data-value\">{{ frappe.utils.fmt_money(e.amount, currency=doc.currency) }}</td>\r\n                {% else %}\r\n                    <td class=\"data-label\">&nbsp;</td>\r\n                    <td class=\"data-value\">&nbsp;</td>\r\n                {% endif %}\r\n\r\n                {# --- Deductions column --- #}\r\n                {% if i < deduction_items|length %}\r\n                    {% set d = deduction_items[i] %}\r\n                    <td class=\"data-label\">{{ d.salary_component }}</td>\r\n                    <td class=\"data-value\">{{ frappe.utils.fmt_money(d.amount, currency=doc.currency) }}</td>\r\n                {% else %}\r\n                    <td class=\"data-label\">&nbsp;</td>\r\n                    <td class=\"data-value\">&nbsp;</td>\r\n                {% endif %}\r\n            </tr>\r\n            {% endfor %}\r\n        </tbody>\r\n        <tfoot>\r\n            <tr class=\"total-row\">\r\n                <td class=\"total-label-cell\">Total</td>\r\n                <td class=\"total-value-cell\">{{ frappe.utils.fmt_money(assignment_earnings_total.value, currency=doc.currency) }}</td>\r\n                <td class=\"total-label-cell\">Total</td>\r\n                <td class=\"total-value-cell\">{{ frappe.utils.fmt_money(computed_earnings_total.value, currency=doc.currency) }}</td>\r\n                <td class=\"total-label-cell\">Total</td>\r\n                <td class=\"total-value-cell\">{{ frappe.utils.fmt_money(deductions_total.value, currency=doc.currency) }}</td>\r\n            </tr>\r\n        </tfoot>\r\n    </table>\r\n\r\n    <!-- Net Payable -->\r\n    <div class=\"net-payable-section\">\r\n        <p class=\"net-amount\">\r\n            Total Net Payable: {{ frappe.utils.fmt_money(frappe.utils.flt(doc.net_salary, 2), currency=doc.currency) }}\r\n        </p>\r\n        <p class=\"net-words\">\r\n            ({{ frappe.utils.money_in_words(frappe.utils.flt(doc.net_salary, 2), doc.currency) }})\r\n        </p>\r\n    </div>\r\n\r\n</div>\r\n\r\n<!-- ============================================================\r\n     LOADER — shows a spinner overlay when Print or PDF is clicked\r\n     ============================================================ -->\r\n<script>\r\n(function () {\r\n    var style = document.createElement(\"style\");\r\n    style.innerHTML = [\r\n        \"#payslip-loader {\",\r\n        \"    display: none;\",\r\n        \"    position: fixed;\",\r\n        \"    inset: 0;\",\r\n        \"    background: rgba(255, 255, 255, 0.88);\",\r\n        \"    z-index: 99999;\",\r\n        \"    flex-direction: column;\",\r\n        \"    align-items: center;\",\r\n        \"    justify-content: center;\",\r\n        \"    font-family: Arial, sans-serif;\",\r\n        \"}\",\r\n        \"#payslip-loader.active { display: flex; }\",\r\n        \".pl-spinner {\",\r\n        \"    width: 52px;\",\r\n        \"    height: 52px;\",\r\n        \"    border: 5px solid #e0e0e0;\",\r\n        \"    border-top-color: #2563eb;\",\r\n        \"    border-radius: 50%;\",\r\n        \"    animation: pl-spin 0.75s linear infinite;\",\r\n        \"    margin-bottom: 16px;\",\r\n        \"}\",\r\n        \".pl-text { font-size: 14px; font-weight: 600; color: #374151; letter-spacing: 0.02em; }\",\r\n        \".pl-sub  { font-size: 11px; color: #9ca3af; margin-top: 4px; }\",\r\n        \"@keyframes pl-spin { to { transform: rotate(360deg); } }\",\r\n        \"@media print { #payslip-loader { display: none !important; } }\"\r\n    ].join(\"\\n\");\r\n    document.head.appendChild(style);\r\n\r\n    var loader = document.createElement(\"div\");\r\n    loader.id = \"payslip-loader\";\r\n    loader.innerHTML =\r\n        '<div class=\"pl-spinner\"></div>' +\r\n        '<div class=\"pl-text\">Loading latest employee data\\u2026</div>' +\r\n        '<div class=\"pl-sub\">Please wait</div>';\r\n    document.body.appendChild(loader);\r\n\r\n    function showLoader(labelText) {\r\n        var el = document.getElementById(\"payslip-loader\");\r\n        if (!el) return;\r\n        if (labelText) { var t = el.querySelector(\".pl-text\"); if (t) t.textContent = labelText; }\r\n        el.classList.add(\"active\");\r\n    }\r\n    function hideLoader() {\r\n        var el = document.getElementById(\"payslip-loader\");\r\n        if (el) el.classList.remove(\"active\");\r\n    }\r\n\r\n    var _origPrint = window.print;\r\n    window.print = function () {\r\n        showLoader(\"Preparing print layout\\u2026\");\r\n        setTimeout(function () {\r\n            _origPrint.call(window);\r\n            setTimeout(hideLoader, 1200);\r\n        }, 350);\r\n    };\r\n\r\n    function attachButtonListeners() {\r\n        var selectors = [\r\n            '.btn-print', '[data-action=\"print\"]', '[data-label=\"Print\"]',\r\n            '[data-label=\"PDF\"]', '.print-btn', 'button[onclick*=\"print\"]',\r\n            'a[onclick*=\"print\"]', '.page-actions .btn', '.sidebar-action-items .btn'\r\n        ].join(\", \");\r\n        document.querySelectorAll(selectors).forEach(function (btn) {\r\n            var label = (btn.textContent || btn.getAttribute(\"data-label\") || \"\").trim().toLowerCase();\r\n            if (label.indexOf(\"print\") !== -1 || label.indexOf(\"pdf\") !== -1) {\r\n                btn.addEventListener(\"click\", function () {\r\n                    showLoader(label.indexOf(\"pdf\") !== -1 ? \"Generating PDF\\u2026\" : \"Preparing print layout\\u2026\");\r\n                    setTimeout(hideLoader, 5000);\r\n                });\r\n            }\r\n        });\r\n    }\r\n\r\n    if (document.readyState === \"loading\") {\r\n        document.addEventListener(\"DOMContentLoaded\", function () { setTimeout(attachButtonListeners, 600); });\r\n    } else {\r\n        setTimeout(attachButtonListeners, 600);\r\n    }\r\n})();\r\n</script>",
  "line_breaks": 0,
  "margin_bottom": 15.0,
  "margin_left": 15.0,
  "margin_right": 15.0,
  "margin_top": 15.0,
  "modified": "2026-02-23 12:16:24.102197",
  "module": "Saral Hr",
  "name": "Salary Slip Custom",
  "page_number": "Hide",
  "print_format_builder": 0,
  "print_format_builder_beta": 0,
  "print_format_type": "Jinja",
  "raw_commands": null,
  "raw_printing": 0,
  "show_section_headings": 0,
  "standard": "No"
 }
]