{
 "absolute_value": 0,
 "align_labels_right": 0,
 "creation": "2026-01-22 12:25:29.382249",
 "css": "* {\r\n    margin: 0;\r\n    padding: 0;\r\n    box-sizing: border-box;\r\n}\r\n\r\nbody {\r\n    font-family: Arial, sans-serif;\r\n    font-size: 11px;\r\n}\r\n\r\n.container {\r\n    border: 2px solid #000;\r\n    padding: 15px;\r\n    max-width: 100%;\r\n}\r\n\r\n.header {\r\n    text-align: center;\r\n    margin-bottom: 10px;\r\n    border-bottom: 2px solid #000;\r\n    padding-bottom: 8px;\r\n}\r\n\r\n.header h2 {\r\n    font-size: 16px;\r\n    margin-bottom: 5px;\r\n}\r\n\r\n.header p {\r\n    font-size: 11px;\r\n    margin: 2px 0;\r\n}\r\n\r\n.payslip-title {\r\n    background-color: #f2f2f2;\r\n    text-align: center;\r\n    padding: 8px;\r\n    margin-bottom: 10px;\r\n    border: 1px solid #ccc;\r\n}\r\n\r\n.payslip-title h3 {\r\n    font-size: 14px;\r\n    margin: 0;\r\n}\r\n\r\ntable {\r\n    width: 100%;\r\n    border-collapse: collapse;\r\n}\r\n\r\n.summary-table {\r\n    margin-bottom: 10px;\r\n}\r\n\r\n.summary-table th {\r\n    background-color: #e8e8e8;\r\n    padding: 6px;\r\n    text-align: left;\r\n    border: 1px solid #ccc;\r\n    font-size: 12px;\r\n}\r\n\r\n.summary-table td {\r\n    padding: 5px 8px;\r\n    border: 1px solid #ddd;\r\n    font-size: 11px;\r\n}\r\n\r\n.summary-table .label {\r\n    font-weight: 600;\r\n    background-color: #f5f5f5;\r\n    width: 16%;\r\n}\r\n\r\n.summary-table .value {\r\n    width: 17%;\r\n}\r\n\r\n.earnings-table {\r\n    margin-bottom: 10px;\r\n}\r\n\r\n.earnings-table th {\r\n    background-color: #f8f8f8;\r\n    padding: 8px;\r\n    border: 2px solid #000;\r\n    font-size: 12px;\r\n    font-weight: bold;\r\n    text-align: center;\r\n}\r\n\r\n.earnings-table .total-row {\r\n    background-color: #e8f4f8;\r\n    font-weight: bold;\r\n}\r\n\r\n.net-payable {\r\n    background-color: #f9f9f9;\r\n    padding: 10px;\r\n    text-align: center;\r\n    border: 2px solid #000;\r\n    margin-top: 10px;\r\n}\r\n\r\n.net-payable .amount {\r\n    font-size: 14px;\r\n    font-weight: bold;\r\n    margin-bottom: 3px;\r\n}\r\n\r\n.net-payable .words {\r\n    font-size: 11px;\r\n}",
 "custom_format": 1,
 "default_print_language": "en",
 "disabled": 0,
 "doc_type": "Salary Slip",
 "docstatus": 0,
 "doctype": "Print Format",
 "font_size": 14,
 "html": "<!DOCTYPE html>\r\n<html>\r\n<head>\r\n    <meta charset=\"UTF-8\">\r\n</head>\r\n<body>\r\n    {% set company_address = frappe.db.get_value(\"Company\", doc.company, \"address\") if doc.company else \"\" %}\r\n    \r\n    {% set company_link_details = frappe.db.get_value(\r\n        \"Company Link\",\r\n        doc.employee,\r\n        [\"employee\", \"date_of_joining\", \"designation\", \"department\", \"branch\", \"category\", \"division\"],\r\n        as_dict=1\r\n    ) if doc.employee else {} %}\r\n    \r\n    {% set doj = company_link_details.date_of_joining if company_link_details else None %}\r\n    {% set employee_link = company_link_details.employee if company_link_details else None %}\r\n    {% set designation = company_link_details.designation if company_link_details else None %}\r\n    {% set department = company_link_details.department if company_link_details else None %}\r\n    {% set branch = company_link_details.branch if company_link_details else None %}\r\n    {% set category = company_link_details.category if company_link_details else None %}\r\n    {% set division = company_link_details.division if company_link_details else None %}\r\n    \r\n    {% set employee_details = frappe.db.get_value(\r\n        \"Employee\",\r\n        employee_link,\r\n        [\"employee_pf_account\", \"esic_number\", \"lin_number\", \"bank_name\", \"account_number\", \"ifsc_code\", \"gender\"],\r\n        as_dict=1\r\n    ) if employee_link else {} %}\r\n    \r\n    {% set present_days = (doc.total_working_days or 0) - (doc.absent_days or 0) %}\r\n    \r\n    {% set salary_assignment = frappe.db.sql(\"\"\"\r\n        SELECT name, from_date, to_date \r\n        FROM `tabSalary Structure Assignment`\r\n        WHERE employee = %s\r\n        AND from_date <= %s\r\n        AND (to_date IS NULL OR to_date >= %s)\r\n        ORDER BY from_date DESC\r\n        LIMIT 1\r\n    \"\"\", (doc.employee, doc.end_date, doc.start_date), as_dict=1) %}\r\n    \r\n    {% set assignment_name = salary_assignment[0].name if salary_assignment else None %}\r\n    \r\n    {% set assignment_earnings = [] %}\r\n    {% set assignment_earnings_total = 0 %}\r\n    {% if assignment_name %}\r\n        {% set assignment_earnings = frappe.db.sql(\"\"\"\r\n            SELECT salary_component, amount\r\n            FROM `tabSalary Details`\r\n            WHERE parent = %s\r\n            AND parenttype = 'Salary Structure Assignment'\r\n            AND parentfield = 'earnings'\r\n            AND amount > 0\r\n            ORDER BY idx ASC\r\n        \"\"\", (assignment_name,), as_dict=1) %}\r\n        \r\n        {% for ae in assignment_earnings %}\r\n            {% set assignment_earnings_total = assignment_earnings_total + (ae.amount or 0) %}\r\n        {% endfor %}\r\n    {% endif %}\r\n    \r\n    {% set computed_earnings_total = 0 %}\r\n    {% set computed_items = [] %}\r\n    {% for e in doc.earnings %}\r\n        {% if e.amount and e.amount > 0 %}\r\n            {% set _ = computed_items.append(e) %}\r\n            {% set computed_earnings_total = computed_earnings_total + e.amount %}\r\n        {% endif %}\r\n    {% endfor %}\r\n    \r\n    {% set deductions_total = 0 %}\r\n    {% set deduction_items = [] %}\r\n    {% for d in doc.deductions %}\r\n        {% set component_details = frappe.db.get_value(\r\n            \"Salary Component\",\r\n            d.salary_component,\r\n            [\"employer_contribution\", \"deduct_from_cash_in_hand_only\"],\r\n            as_dict=1\r\n        ) %}\r\n        {% if d.amount and d.amount > 0 and component_details and not component_details.employer_contribution and not component_details.deduct_from_cash_in_hand_only %}\r\n            {% set _ = deduction_items.append(d) %}\r\n            {% set deductions_total = deductions_total + d.amount %}\r\n        {% endif %}\r\n    {% endfor %}\r\n    \r\n    {% set max_rows = [assignment_earnings|length, computed_items|length, deduction_items|length]|max %}\r\n    \r\n    <div class=\"container\">\r\n        <div class=\"header\">\r\n            <h2><strong>{{ doc.company }}</strong></h2>\r\n            <p>\r\n                {% if company_address %}\r\n                    <strong>Address:</strong> {{ company_address }}\r\n                {% else %}\r\n                    <strong>Head Office Address:</strong> Bajaj Steel Industries Limited, C-108, M.I.D.C. Industrial Area, Hingna Road, Nagpur, Maharashtra - 440016\r\n                {% endif %}\r\n            </p>\r\n        </div>\r\n        \r\n        <div class=\"payslip-title\">\r\n            <h3>Payslip for the Month of {{ frappe.utils.formatdate(doc.start_date, \"MMMM yyyy\") }}</h3>\r\n        </div>\r\n        \r\n        <table class=\"summary-table\">\r\n            <thead>\r\n                <tr>\r\n                    <th colspan=\"6\">Employee Pay Summary</th>\r\n                </tr>\r\n            </thead>\r\n            <tbody>\r\n                <tr>\r\n                    <td class=\"label\">Employee Name</td>\r\n                    <td class=\"value\">{{ doc.employee_name }}</td>\r\n                    <td class=\"label\">Gender</td>\r\n                    <td class=\"value\">{{ employee_details.gender or '-' }}</td>\r\n                    <td class=\"label\">Date of Joining</td>\r\n                    <td class=\"value\">{{ frappe.utils.formatdate(doj, \"dd-MM-yyyy\") if doj else '-' }}</td>\r\n                </tr>\r\n                <tr>\r\n                    <td class=\"label\">Designation</td>\r\n                    <td class=\"value\">{{ designation or '-' }}</td>\r\n                    <td class=\"label\">Department</td>\r\n                    <td class=\"value\">{{ department or '-' }}</td>\r\n                    <td class=\"label\">Branch</td>\r\n                    <td class=\"value\">{{ branch or '-' }}</td>\r\n                </tr>\r\n                <tr>\r\n                    <td class=\"label\">Category</td>\r\n                    <td class=\"value\">{{ category or '-' }}</td>\r\n                    <td class=\"label\">Division</td>\r\n                    <td class=\"value\">{{ division or '-' }}</td>\r\n                    <td class=\"label\">Payment Days</td>\r\n                    <td class=\"value\">{{ doc.payment_days or 0 }}</td>\r\n                </tr>\r\n                <tr>\r\n                    <td class=\"label\">PF Account No</td>\r\n                    <td class=\"value\">{{ employee_details.employee_pf_account or '-' }}</td>\r\n                    <td class=\"label\">ESI Number</td>\r\n                    <td class=\"value\">{{ employee_details.esic_number or '-' }}</td>\r\n                    <td class=\"label\">LIN Number</td>\r\n                    <td class=\"value\">{{ employee_details.lin_number or '-' }}</td>\r\n                </tr>\r\n                <tr>\r\n                    <td class=\"label\">Bank Name</td>\r\n                    <td class=\"value\">{{ employee_details.bank_name or '-' }}</td>\r\n                    <td class=\"label\">Account Number</td>\r\n                    <td class=\"value\">{{ employee_details.account_number or '-' }}</td>\r\n                    <td class=\"label\">IFSC Code</td>\r\n                    <td class=\"value\">{{ employee_details.ifsc_code or '-' }}</td>\r\n                </tr>\r\n                <tr>\r\n                    <td class=\"label\">Working Days</td>\r\n                    <td class=\"value\">{{ doc.total_working_days or 0 }}</td>\r\n                    <td class=\"label\">Present Days</td>\r\n                    <td class=\"value\">{{ present_days }}</td>\r\n                    <td class=\"label\">Absent Days</td>\r\n                    <td class=\"value\">{{ doc.absent_days or 0 }}</td>\r\n                </tr>\r\n            </tbody>\r\n        </table>\r\n        \r\n        <table class=\"earnings-table\">\r\n            <thead>\r\n                <tr>\r\n                    <th colspan=\"2\">Earnings</th>\r\n                    <th colspan=\"2\">Computed Earnings</th>\r\n                    <th colspan=\"2\">Deductions</th>\r\n                </tr>\r\n                <tr>\r\n                    <th style=\"width: 16.66%; text-align: left; font-size: 10px; font-weight: normal;\">Component</th>\r\n                    <th style=\"width: 16.66%; text-align: right; font-size: 10px; font-weight: normal;\">Amount</th>\r\n                    <th style=\"width: 16.66%; text-align: left; font-size: 10px; font-weight: normal;\">Component</th>\r\n                    <th style=\"width: 16.66%; text-align: right; font-size: 10px; font-weight: normal;\">Amount</th>\r\n                    <th style=\"width: 16.66%; text-align: left; font-size: 10px; font-weight: normal;\">Component</th>\r\n                    <th style=\"width: 16.66%; text-align: right; font-size: 10px; font-weight: normal;\">Amount</th>\r\n                </tr>\r\n            </thead>\r\n            <tbody>\r\n                {% for i in range(max_rows) %}\r\n                <tr>\r\n                    {% if i < assignment_earnings|length %}\r\n                        {% set ae = assignment_earnings[i] %}\r\n                        <td style=\"padding: 6px; border: 1px solid #ddd; font-size: 11px;\">{{ ae.salary_component }}</td>\r\n                        <td style=\"padding: 6px; border: 1px solid #ddd; text-align: right; font-size: 11px;\">{{ frappe.utils.fmt_money(ae.amount, currency=doc.currency) }}</td>\r\n                    {% else %}\r\n                        <td style=\"padding: 6px; border: 1px solid #ddd;\">&nbsp;</td>\r\n                        <td style=\"padding: 6px; border: 1px solid #ddd;\">&nbsp;</td>\r\n                    {% endif %}\r\n                    \r\n                    {% if i < computed_items|length %}\r\n                        {% set e = computed_items[i] %}\r\n                        <td style=\"padding: 6px; border: 1px solid #ddd; font-size: 11px;\">{{ e.salary_component }}</td>\r\n                        <td style=\"padding: 6px; border: 1px solid #ddd; text-align: right; font-size: 11px;\">{{ frappe.utils.fmt_money(e.amount, currency=doc.currency) }}</td>\r\n                    {% else %}\r\n                        <td style=\"padding: 6px; border: 1px solid #ddd;\">&nbsp;</td>\r\n                        <td style=\"padding: 6px; border: 1px solid #ddd;\">&nbsp;</td>\r\n                    {% endif %}\r\n                    \r\n                    {% if i < deduction_items|length %}\r\n                        {% set d = deduction_items[i] %}\r\n                        <td style=\"padding: 6px; border: 1px solid #ddd; font-size: 11px;\">{{ d.salary_component }}</td>\r\n                        <td style=\"padding: 6px; border: 1px solid #ddd; text-align: right; font-size: 11px;\">{{ frappe.utils.fmt_money(d.amount, currency=doc.currency) }}</td>\r\n                    {% else %}\r\n                        <td style=\"padding: 6px; border: 1px solid #ddd;\">&nbsp;</td>\r\n                        <td style=\"padding: 6px; border: 1px solid #ddd;\">&nbsp;</td>\r\n                    {% endif %}\r\n                </tr>\r\n                {% endfor %}\r\n                <tr class=\"total-row\">\r\n                    <td style=\"padding: 8px; border: 1px solid #000; font-size: 12px;\">Total</td>\r\n                    <td style=\"padding: 8px; border: 1px solid #000; text-align: right; font-size: 12px;\">{{ frappe.utils.fmt_money(assignment_earnings_total, currency=doc.currency) }}</td>\r\n                    <td style=\"padding: 8px; border: 1px solid #000; font-size: 12px;\">Total</td>\r\n                    <td style=\"padding: 8px; border: 1px solid #000; text-align: right; font-size: 12px;\">{{ frappe.utils.fmt_money(computed_earnings_total, currency=doc.currency) }}</td>\r\n                    <td style=\"padding: 8px; border: 1px solid #000; font-size: 12px;\">Total</td>\r\n                    <td style=\"padding: 8px; border: 1px solid #000; text-align: right; font-size: 12px;\">{{ frappe.utils.fmt_money(deductions_total, currency=doc.currency) }}</td>\r\n                </tr>\r\n            </tbody>\r\n        </table>\r\n        \r\n        <div class=\"net-payable\">\r\n            <div class=\"amount\">Total Net Payable: {{ frappe.utils.fmt_money(frappe.utils.flt(doc.net_salary, 2), currency=doc.currency) }}</div>\r\n            <div class=\"words\">({{ frappe.utils.money_in_words(frappe.utils.flt(doc.net_salary, 2), doc.currency) }})</div>\r\n        </div>\r\n    </div>\r\n</body>\r\n</html>",
 "idx": 0,
 "line_breaks": 0,
 "margin_bottom": 15.0,
 "margin_left": 15.0,
 "margin_right": 15.0,
 "margin_top": 15.0,
 "modified": "2026-02-12 12:02:47.814381",
 "modified_by": "Administrator",
 "module": "Saral Hr",
 "name": "Salary Slip Custom",
 "owner": "Administrator",
 "page_number": "Hide",
 "print_format_builder": 0,
 "print_format_builder_beta": 0,
 "print_format_type": "Jinja",
 "raw_printing": 0,
 "show_section_headings": 0,
 "standard": "Yes"
}